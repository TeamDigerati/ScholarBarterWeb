<div class="orders view">
  <div class="container">
    <header>
      <h3><span class="glyphicon glyphicon-folder-open"></span>&nbsp;&nbsp;All User Listings</h3>
    </header>
    <br />
    <div class="customerEdit">
      <form class="form-horizontal" role="form">
        <div class="form-group">

          <label class="navbarText col-sm-2">Filter by list:</label>
          <div class="col-sm-10">
            <input type="text" class="form-control novalidate"
              data-ng-model="vm.searchText"
              data-ng-change="vm.searchTextChanged()" />
          </div>
          <ul class="nav navbar-nav">
            <li class="toolbaritem">
              <a data-ng-click="vm.navigate('/customeredit/0')">
                <span class="glyphicon glyphicon-plus"></span>Add Listing
              </a>
            </li>
          </ul>

        </div>
      </form>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-12 repeat-animation" data-ng-repeat="customer in vm.filteredCustomers | orderBy:'lastName'">
          <div>

            <h4><a href="#/customerorders/{{customer.id}}">{{ customer.firstName + ' ' + customer.lastName }}</a></h4>
          </div>
          <table class="table table-hover table-striped table-condensed table-bordered ordersTable" data-ng-controller="OrderChildController as vm">
            <thead>
              <tr>
                <th data-ng-click="vm.setOrder('firstName')">User</th>
                <th data-ng-click="vm.setOrder('date')">Date</th>
                <th data-ng-click="vm.setOrder('customer')">List</th>
                <th data-ng-click="vm.setOrder('orderTotal')">Total</th>
              </tr>
            </thead>
            <tbody>
              <tr data-ng-hide="vm.customer.orders || vm.customer.orders.length > 0" class="error">
                <td colspan="4">
                  <div class="text-center"><strong>No orders found</strong></div>
                </td>
              </tr>
              <tr data-ng-repeat="order in vm.customer.orders | orderBy:vm.orderby:vm.reverse" class="repeat-animation">
                <td><a href="#/customerorders/{{customer.id}}">{{ customer.firstName + ' ' + customer.lastName }}</a></td>
                <td>{{ order.date | date:'MM/dd/yyyy' }}</td>
                <td>{{ order.product }}</td>
                <td>{{ order.orderTotal | currency }}
                </td>
              </tr>
              <tr class="info">
                <td colspan="4">&nbsp;</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="row show-hide-animation" data-ng-show="vm.filteredCustomers.length == 0">
        <div class="col-md-12">
          <h4>No users found</h4>
        </div>
      </div>
      <div class="row show-hide-animation" data-ng-show="vm.customers.length > 0" style="margin-left: 0px;">
        <div class="col-md-12">
          <div data-pagination
            data-on-select-page="vm.pageChanged(page)"
            data-total-items="vm.totalRecords"
            data-page="vm.currentPage"
            data-boundary-links="true"
            class="pagination-sm">
          </div>
          <h5>Showing {{ vm.filteredCount }} of {{ vm.totalRecords}} total users</h5>
        </div>
      </div>
    </div>
  </div>
  <br />
  <br />
  <br />
</div>

